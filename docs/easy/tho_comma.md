## 千分位逗号分隔

### 正则表达式

```js
const pat = new RegExp('(?=(\\B\\d{3})+$)', 'g');
const str = '1000000000';
str.replace(pat, ',');
```

### 解释

```js
const pat = new RegExp('(?=(\\B\\d{3})+$)', 'g');
// ?= 由于要替换的是每三位数（从末尾起）紧前面的那个""，所以需要用到正向预查，
// 即?=n（匹配任何其后紧接指定字符串 n 的字符串）。正向预查咋用呢？这里先举个例子：有一个字符串var str = "abaaaaa";
// 我们想把后面跟着字符b的字符a表示出来，于是正则表达式写法：var reg = /a(?=b)/g;
// 匹配的是后面紧跟着字符b的字符a，字符串str中只有一个符合条件的a

// +$表示匹配任何包含至少一组三位数字的字符串，因为需要从右往左匹配，所以表示结尾的$是必须要有的。
// \B用来表示所匹配的这个空后面不能是一个单词边界
```

1. `g`是表示全局匹配的修饰符，全局匹配指查找所有匹配而非在找到第一个匹配后停止。
2. `$`是表示结尾的量词，如n$，匹配的是任何以n为结尾的字符串。
3. `\d`是查找数字的元字符。
4. `n{X}`是匹配包含 X 个 n 的序列的字符串的量词。
5. `n+`是匹配任何包含至少一个 n 的字符串的量词。
6. `?=n`正向预查，用于匹配任何其后紧接指定字符串 n 的字符串,比如`'abaaaaa'` 使用正则 `/a(?=b)/g`匹配到ab中的a不包括后面的a。
7. `match()` String对象的方法，作用是找到一个或多个正则表达式的匹配。
8. `replace()`String对象的方法，作用是替换与正则表达式匹配的子串。
9. `\B`是表示匹配非单词边界的元字符，与其互为补集的元字符是\b，表示匹配单词边界。

### 转载链接

感谢这篇博主的分享

[把一串数字表示成千位分隔形式——JS正则表达式的应用](https://juejin.im/post/5abb5b01f265da237f1e5a92?utm_medium=hao.caibaojian.com&utm_source=hao.caibaojian.com)
